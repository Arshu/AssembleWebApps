<div class="flex-content-wrap" style="margin:5px;">
    {{VIEWPLACEHOLDER}}
    <div>
        <input type="checkbox" id="allowEmpty" />Allow Empty <input type="checkbox" id="allowDuplicate" />Allow Duplicate
    </div>
    <div style="text-align:center;">
        <div id="{{$ViewID}}Progress"></div>
        <div style="margin:5px; padding:10px;text-align:center;display:none;" class="notification" id="{{$ViewID}}ResponseContainer">
            <button class="delete" onclick="hideElm('{{$ViewID}}ResponseContainer')"></button>
            <div id="{{$ViewID}}Response"></div>
        </div>
    </div>
    <div class="flex-item card_border" style="text-align:center;">
        <div class="flex-item-stretch" style="width: 100%; font-size: xx-small; justify-content: right;">
            <label for="realtimeRefresh{{$ViewID}}">
                Realtime Refresh (<span style="font-size:xx-small;color:red;">~10Sec Cached</span>)
            </label>
            <input readonly type="checkbox" id="realtimeRefresh{{$ViewID}}" name="realtimeRefresh{{$ViewID}}" title="Realtime Refresh">
        </div>

        {{ToDoAddView}}

        {{ToDoEditView}}

        {{ToDoListView}}

        <div class="flex-item-stretch" style="text-align:center;">
            <button class="border" style="margin:5px;background-color:green;width:60px;" id="refreshToDoView" onclick="refreshViewComponentPageHtml('{{$ViewID}}Progress', '{{$ViewID}}Response', '{{$AppSite}}', '{{$AppView}}', '{{$ViewID}}', { 'PageNo': '{{$PageNo}}', 'ItemsPerPage': '{{$ItemsPerPage}}' }, '', getElm('realtimeRefresh{{$ViewID}}').checked)">Refresh</button>
        </div>

    </div>
</div>



<script type="text/javascript">

    window.ajaxid = 0;

    ready(() => {

    });

    function showAddView(addViewElmId) {
        showElm(addViewElmId)
    }

    function showEditView(keyPathJson) {

        var editElmPrefix = '{{$ViewID}}Edit';

        for (var key in keyPathJson) {
            var jsonValue = keyPathJson[key];
            var idxLastDot = key.lastIndexOf(".");
            var elmId = key.substring(idxLastDot + 1);
            var jsonKey = editElmPrefix + elmId;
            var elmEdit = getElm(jsonKey);
            elmEdit.value = jsonValue;
            elmEdit.setAttribute('data-key', key);
        }


        showElm('toDoEditViewDiv')
    }

</script>