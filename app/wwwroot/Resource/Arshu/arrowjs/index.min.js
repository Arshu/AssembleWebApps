var $arrow=function(e){"use strict";const n=new Set,c=new Set;function s(e){return"function"==typeof e&&!!e.isT}function u(e){return"object"==typeof e&&null!==e&&"$on"in e&&"function"==typeof e.$on}const i={};const a=new Map;function r(e,n={}){if(u(e)||"object"!=typeof e)return e;const c=n.o||new Map,s=n.op||new Map,i=Array.isArray(e),l=[],f=i?[]:Object.create(e,{});for(const n in e){const c=e[n];"object"==typeof c&&null!==c?(f[n]=u(c)?c:r(c),l.push(n)):f[n]=c}const p=e=>(n,u)=>{let i=c.get(n),a=s.get(u);i||(i=new Set,c.set(n,i)),a||(a=new Set,s.set(u,a)),i[e](u),a[e](n)},$on=p("add"),$off=p("delete"),_em=(e,n,s)=>{c.has(e)&&c.get(e).forEach((e=>e(n,s)))},d={$on,$off,_em,_st:()=>({o:c,op:s,r:f,p:h._p}),_p:void 0},h=new Proxy(f,{has:(e,key)=>key in d||key in e,get(...e){const[,n]=e;if(Reflect.has(d,n))return Reflect.get(d,n);const c=Reflect.get(...e);return function(e,n){a.forEach((c=>{let s=c.get(e);s||(s=new Set,c.set(e,s)),s.add(n)}))}(h,n),i&&n in Array.prototype?function(op,e,n,c){const s=(...c)=>{const s=Array.prototype[op].call(e,...c);if(e.forEach(((e,c)=>n._em(String(c),e))),n._p){const[e,c]=n._p;c._em(e,n)}return s};switch(op){case"shift":case"pop":case"sort":case"reverse":case"copyWithin":return s;case"unshift":case"push":case"fill":return(...e)=>s(...e.map((e=>r(e))));case"splice":return function(e,n,...c){return 1===arguments.length?s(e):s(e,n,...c.map((e=>r(e))))};default:return c}}(n,f,h,c):c},set(...e){const[n,c,s]=e,i=Reflect.get(n,c);if(Reflect.has(d,c))return Reflect.set(d,c,s);if(s&&u(i)){const o=i,e=o._st(),a=u(s)?function(e,n){const c=n._st();c.o&&c.o.forEach(((n,c)=>{n.forEach((n=>{e.$on(c,n)}))}));c.p&&(e._p=c.p);return e}(s,o):r(s,e);return Reflect.set(n,c,a),_em(c,a),e.o.forEach(((e,n)=>{const c=Reflect.get(i,n),s=Reflect.get(a,n);c!==s&&o._em(n,s,c)})),!0}const a=Reflect.set(...e);return a&&(i!==s&&_em(c,s,i),h._p&&h._p[1]._em(...h._p)),a}});return n.p&&(h._p=n.p),l.map((e=>{h[e]._p=[e,h]})),h}function l(e,s){const u=Symbol();a.has(u)||a.set(u,new Map);let i=new Map;const l=function(e){return(s,u)=>{n.size||queueMicrotask((function e(){const i=Array.from(n);n.clear();const a=Array.from(c);c.clear(),i.forEach((e=>e(s,u))),a.forEach((e=>e())),n.size&&queueMicrotask(e)})),n.add(e)}}(f);function f(){a.set(u,new Map);const n=e(),c=a.get(u);return a.delete(u),i.forEach(((e,n)=>{const s=c.get(n);s&&s.forEach((n=>e.delete(n))),e.forEach((e=>n.$off(e,l)))})),c.forEach(((e,n)=>{e.forEach((e=>n.$on(e,l)))})),i=c,s?s(n):n}return function(e){return"$on"in e}(e)&&e.$on(f),f()}const f=new WeakMap,p={},d="➳❍",h="❍⇚",m=`\x3c!--${d}--\x3e`,g=`\x3c!--${h}--\x3e`;function t(e,...n){const c=[];let s="";const u=(e,html)=>{if("function"==typeof e){let n=()=>{};return c.push(Object.assign(((...n)=>e(...n)),{e,$on:e=>{n=e},_up:exp=>{e=exp,n()}})),html+m}return Array.isArray(e)?e.reduce(((html,exp)=>u(exp,html)),html):html+e},i=()=>(s||(s=n.length||1!==e.length||""!==e[0]?e.reduce((function(html,e,c){return html+=e,void 0!==n[c]?u(n[c],html):html}),""):"\x3c!----\x3e"),s),a=e=>{const n=y(w(i()),{i:0,e:c});return e?n(e):n()};return a.isT=!0,a._k=0,a._h=()=>[i(),c,a._k],a.key=key=>(a._k=key,a),a}function y(dom,e){let n,c=0;const s=dom.childNodes;for(;n=s.item(c++);)8!==n.nodeType||n.nodeValue!==d?(n instanceof Element&&E(n,e),n.hasChildNodes()&&y(n,e),n instanceof HTMLOptionElement&&(n.selected=n.defaultSelected)):v(n,e);return e=>e?(e.appendChild(dom),e):dom}function E(e,n){var c;const s=[];let u,i=0;for(;u=e.attributes[i++];){if(n.i>=n.e.length)return;if(u.value!==m)continue;let a=u.name;const p=n.e[n.i++];if("@"===a.charAt(0)){const n=a.substring(1);e.addEventListener(n,p),f.has(e)||f.set(e,new Map),null===(c=f.get(e))||void 0===c||c.set(n,p),s.push(a)}else{const n="value"===a&&"value"in e||"checked"===a||a.startsWith(".")&&(a=a.substring(1));l(p,(c=>{n&&(e[a]=c,e.getAttribute(a)!=c&&(c=!1)),!1!==c?e.setAttribute(a,c):(e.removeAttribute(a),i--)}))}}s.forEach((n=>e.removeAttribute(n)))}function _(e){var n;e.remove(),null===(n=f.get(e))||void 0===n||n.forEach(((n,c)=>e.removeEventListener(c,n)))}function v(e,n){var c;const u=n.e[n.i++];let a;if(u&&s(u.e))a=x().add(u.e)();else{let e;a=(e=l(u,(n=>function(e,n){const c="function"==typeof n,s=c?n:x();Array.isArray(e)?e.forEach((e=>function(e,n){const c=performance.now(),s="function"==typeof n;e=s?`${e} (ms)`:`${e} (calls)`;const u=s?n():n,a=s?performance.now()-c:n;return i[e]?i[e].push(a):i[e]=[a],u}("partialAdd",(()=>s.add(e))))):s.add(e),c&&s._up();return s}(n,e))))()}null===(c=e.parentNode)||void 0===c||c.replaceChild(a,e)}function w(html){var e;const dom=(null!==(e=p[html])&&void 0!==e?e:(()=>{const tpl=document.createElement("template");return tpl.innerHTML=html,p[html]=tpl})()).content.cloneNode(!0);return dom.normalize(),dom}function x(e=Symbol()){let html="",n={i:0,e:[]},c=[],u=[];const i=new Map,a=[],l=()=>{let dom;if(c.length||p(),1!==c.length||s(c[0].tpl))dom=d(y(w(html),n)());else{const e=c[0];e.dom.length?e.dom[0].nodeValue=e.tpl:e.dom.push(document.createTextNode(e.tpl)),dom=e.dom[0]}return f(),dom};l.ch=()=>u,l.l=0,l.add=tpl=>{if(!tpl&&0!==tpl)return l;let key,e=[],u="";s(tpl)&&([u,e,key]=tpl._h()),html+=u,html+=g;const a=key&&i.get(key),f=a||{html:u,exp:e,dom:[],tpl,key};return c.push(f),key&&(a?a.exp.forEach(((exp,n)=>exp._up(e[n].e))):i.set(key,f)),n.e.push(...e),l.l++,l},l._up=()=>{const n=x(e);let i=0,l=u[0].dom[0];c.length||p(document.createComment(""));const d=()=>{if(!n.l)return;const e=n(),s=e.lastChild;l[i?"after":"before"](e),m(n,c,i),l=s};c.forEach(((e,c)=>{const f=u[c];e.key&&e.dom.length?(d(),f&&f.dom===e.dom||l[c?"after":"before"](...e.dom),l=e.dom[e.dom.length-1]):f&&e.html===f.html&&!f.key?(d(),f.exp.forEach(((n,c)=>n._up(e.exp[c].e))),e.exp=f.exp,e.dom=f.dom,l=e.dom[e.dom.length-1],function(e){return 1===e.dom.length&&!s(e.tpl)}(e)&&l instanceof Text&&(l.nodeValue=e.tpl)):(f&&e.html!==f.html&&!f.key&&a.push(...f.dom),n.l||(i=c),n.add(e.tpl))})),d();let h=null==l?void 0:l.nextSibling;for(;h&&e in h;){a.push(h);h=h.nextSibling}!function(e){e.forEach(_)}(a),f()};const f=()=>{a.length=0,html="",l.l=0,n={i:0,e:[]},u=[...c],c=[]},p=e=>{html="\x3c!----\x3e",c.push({html,exp:[],dom:e?[e]:[],tpl:t`${html}`,key:0})},d=n=>{let s=0;const u=[];return n.childNodes.forEach((n=>{if(8===n.nodeType&&n.data===h)return s++,void u.push(n);Object.defineProperty(n,e,{value:e}),c[s].dom.push(n)})),u.forEach((e=>e.remove())),n},m=(e,n,c)=>{e.ch().forEach(((e,s)=>{n[c+s].dom=e.dom}))};return l}const html=t,b=r,A=l;return e.html=html,e.measurements=i,e.nextTick=function(e){if(!n.size)return e&&e(),Promise.resolve();let s;const u=new Promise((r=>{s=r}));return c.add((()=>{e&&e(),s()})),u},e.r=r,e.reactive=b,e.t=t,e.w=l,e.watch=A,e}({});
//# sourceMappingURL=index.min.js.map