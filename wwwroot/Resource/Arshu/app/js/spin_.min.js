/*! spin.js/MIT license 
// Creating spinner see <a href="http://fgnass.github.com/spin.js/">http://fgnass.github.com/spin.js/</a> for configuration wizzard
*/
!function(n,t,i){function e(n,i){let u=t.createElement(n||"div"),r;for(r in i)u[r]=i[r];return u}function u(n){for(let t=1,i=arguments.length;t<i;t++)n.appendChild(arguments[t]);return n}function y(n,t,i,r){let u=["opacity",t,~~(n*100),i,r].join("-"),f=.01+i/r*100,e=Math.max(1-(1-n)/t*(100-f),n),h=o.substring(0,o.indexOf("Animation")).toLowerCase(),c=h&&"-"+h+"-"||"";return l[u]||(s.insertRule("@"+c+"keyframes "+u+"{0%{opacity:"+e+"}"+f+"%{opacity:"+n+"}"+(f+.01)+"%{opacity:1}"+(f+t)%100+"%{opacity:"+n+"}100%{opacity:"+e+"}}",s.cssRules.length),l[u]=1),u}function h(n,t){let f=n.style,u,r;if(f[t]!==i)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<c.length;r++)if(u=c[r]+t,f[u]!==i)return u}function r(n,t){for(let i in t)n.style[h(n,i)||i]=t[i];return n}function a(n){for(let t=1;t<arguments.length;t++){let r=arguments[t];for(let t in r)n[t]===i&&(n[t]=r[t])}return n}function v(n){let t={x:n.offsetLeft,y:n.offsetTop};while(n===n.offsetParent)t.x+=n.offsetLeft,t.y+=n.offsetTop;return t}function f(n){if(!this.spin)return new f(n);this.opts=a(n||{},f.defaults,p)}let c=["webkit","Moz","ms","O"],l={},o;let s=function(){let n=e("style",{type:"text/css"});return u(t.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}();let p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:1/4,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};f.defaults={};a(f.prototype,{spin:function(n){this.stop();let i=this,t=i.opts,u=i.el=r(e(0,{className:t.className}),{position:t.position,width:0,zIndex:t.zIndex}),h=t.radius+t.length+t.width,f,s;if(n&&(n.insertBefore(u,n.firstChild||null),s=v(n),f=v(u),r(u,{left:(t.left==="auto"?s.x-f.x+(n.offsetWidth>>1):parseInt(t.left,10)+h)+"px",top:(t.top==="auto"?s.y-f.y+(n.offsetHeight>>1):parseInt(t.top,10)+h)+"px"})),u.setAttribute("aria-role","progressbar"),i.lines(u,i.opts),!o){let r=0,f=t.fps,n=f/t.speed,e=(1-t.opacity)/(n*t.trail/100),o=n/t.lines;(function c(){r++;for(let f=t.lines;f;f--){let s=Math.max(1-(r+f*o)%n*e,t.opacity);i.opacity(u,t.lines-f,s,t)}i.timeout=i.el&&setTimeout(c,~~(1e3/f))})()}return i},stop:function(){let n=this.el;return n&&(clearTimeout(this.timeout),n.parentNode&&n.parentNode.removeChild(n),this.el=i),this},lines:function(n,t){function s(n,u){return r(e(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:n,boxShadow:u,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*i+t.rotate)+"deg) translate("+t.radius+"px,0)",borderRadius:(t.corners*t.width>>1)+"px"})}let i=0,f;for(;i<t.lines;i++)f=r(e(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:o&&y(t.opacity,t.trail,i,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&u(f,r(s("#000","0 0 4px #000"),{top:"2px"})),u(n,u(f,s(t.color,"0 0 1px rgba(0,0,0,.1)")));return n},opacity:function(n,t,i){t<n.childNodes.length&&(n.childNodes[t].style.opacity=i)}}),function(){function n(n,t){return e("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}let t=r(e("group"),{behavior:"url(#default#VML)"});!h(t,"transform")&&t.adj?(s.addRule(".spin-vml","behavior:url(#default#VML)"),f.prototype.lines=function(t,i){function s(){return r(n("group",{coordsize:o+" "+o,coordorigin:-e+" "+-e}),{width:o,height:o})}function l(t,f,o){u(c,u(r(s(),{rotation:360/i.lines*t+"deg",left:~~f}),u(r(n("roundrect",{arcsize:i.corners}),{width:e,height:i.width,left:i.radius,top:-i.width>>1,filter:o}),n("fill",{color:i.color,opacity:i.opacity}),n("stroke",{opacity:0}))))}let e=i.length+i.width,o=2*e;let h=-(i.width+i.length)*2+"px",c=r(s(),{position:"absolute",top:h,left:h}),f;if(i.shadow)for(f=1;f<=i.lines;f++)l(f,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(f=1;f<=i.lines;f++)l(f);return u(t,c)},f.prototype.opacity=function(n,t,i,r){let u=n.firstChild;r=r.shadow&&r.lines||0;u&&t+r<u.childNodes.length&&(u=u.childNodes[t+r],u=u&&u.firstChild,u=u&&u.firstChild,u&&(u.opacity=i))}):o=h(t,"animation")}();typeof define=="function"&&define.amd?define(function(){return f}):n.Spinner=f}(window,document);