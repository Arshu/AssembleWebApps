
<script type="text/javascript">

    window.ajaxid = 0;

    function openTab(evt, tabName) {
        let i, x, tablinks;
        x = document.getElementsByClassName("content-tab");
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tab");
        for (i = 0; i < x.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" tab-active", "");
        }
        getElm(tabName).style.display = "block";
        evt.currentTarget.className += " tab-active";
    }

    let gPushAssetResponseElmId = "pushResponse";
    let gPushAssetTargetElmId = "pushResourceAssetList";
    let gPushAssetCurrentPage = 1;
    let gPushAssetDefaultItemsPerPage = 5;

    function fillAppWebConfig(progressElmId, responseElmId, targetElmId, successCallback) {
        let id = window.ajaxid++;
        let responseElm = getElm(responseElmId);
        let responseContainerElmId = responseElmId + "Container";
        responseElm.textContent = '';
        hideElm(responseContainerElmId);
        let valid = true;

        if (valid === true) {


            let url = '/AppApi/SyncApi';
            let urlContent = {
                "jsonrpc": '2.0', "method": 'GetAppWebConfig', "params": {
                }, "id": id
            };

            dopost(progressElmId, responseElmId, url, urlContent,
                function (data) {
                    if ((data.hasOwnProperty('Result') === true) && (data.Result))  {
                        let result = data.Result;
                        if (result.hasOwnProperty('message') === true) {

                            //showText(responseElm, result.message, 'green');

                            if (result.hasOwnProperty('PackName') === true) {
                                getElm("packName").value = result.PackName;
                                showElm(targetElmId);
                            }
                            if (result.hasOwnProperty('PackDescription') === true) {
                                getElm("packDescription").value = result.PackDescription;
                            }
                            if (result.hasOwnProperty('PackResourceName') === true) {
                                getElm("packResourceName").value = result.PackResourceName;
                            }
                            if (result.hasOwnProperty('PackResourceDescription') === true) {
                                getElm("packResourceDescription").value = result.PackResourceDescription;
                            }
                            if (result.hasOwnProperty('PackDataName') === true) {
                                getElm("packDataName").value = result.PackDataName;
                            }
                            if (result.hasOwnProperty('PackDataDescription') === true) {
                                getElm("packDataDescription").value = result.PackDataDescription;
                            }

                            if (typeof successCallback === "function") {
                                successCallback();
                            }
                        }
                        if (result.hasOwnProperty('error') === true) {
                            showText(responseElm, result.error, 'red');
                        }
                    }
                    else if ((data.hasOwnProperty('Error') === true) && (data.Error)) {
                        let error = data.Error;
                        if (error.hasOwnProperty('Message') === true) {
                            showText(responseElm, error.Message, 'red');
                        }
                    }
                });
        }
        return false;
    }

    function packAppWeb(progressElmId, responseElmId, packNameVal, packDescriptionVal, packResourceVal, packResourceDescriptionVal, packDataVal, packDataDescriptionVal, canPackDataVal, packAppSiteListElmId, successCallback) {

        let id = window.ajaxid++;
        let responseElm = getElm(responseElmId);
        let responseContainerElmId = responseElmId + "Container";
        responseElm.textContent = '';
        hideElm(responseContainerElmId);
        let valid = true;

        let canPackData = false;
        if (canPackDataVal === "on") packData = true;
        if (canPackDataVal === true) packData = true;

        let appSiteList = [];
        let appSiteElms = getElms("input[name='" + packAppSiteListElmId + "']");
        if (appSiteElms) {
            for (let item of appSiteElms) {
                if (item.checked == true) {
                    appSiteList.push(item.value);
                }
            }
        }

        if (valid === true) {

            let url = '/AppApi/SyncApi';
            let urlContent = {
                "jsonrpc": '2.0', "method": 'PackAppWeb', "params": {
                    "packName": packNameVal,
                    "packDescription": packDescriptionVal,
                    "packResourceName": packResourceVal,
                    "packResourceDescription": packResourceDescriptionVal,
                    "packDataName": packDataVal,
                    "packDataDescription": packDataDescriptionVal,
                    "packData": canPackData,
                    "packAppSites": appSiteList.join(",")
                }, "id": id
            };

            dopost(progressElmId, responseElmId, url, urlContent,
                function (data) {
                    if ((data.hasOwnProperty('Result') === true) && (data.Result))  {
                        let result = data.Result;
                        if (result.hasOwnProperty('message') === true) {

                            showText(responseElm, result.message, 'green');

                            if (typeof successCallback === "function") {
                                successCallback();
                            }
                        }
                        if (result.hasOwnProperty('error') === true) {
                            showText(responseElm, result.error, 'red');
                        }
                    }
                    else if ((data.hasOwnProperty('Error') === true) && (data.Error)) {
                        let error = data.Error;
                        if (error.hasOwnProperty('Message') === true) {
                            showText(responseElm, error.Message, 'red');
                        }
                    }
                });
        }
        return false;
    }



    function fillPushAssetList(progressElmId, responseElmId, targetElmId, pageNo, successCallback) {

        let id = window.ajaxid++;
        let responseElm = getElm(responseElmId);
        let responseContainerElmId = responseElmId + "Container";
        responseElm.textContent = '';
        hideElm(responseContainerElmId);
        let valid = true;

        let htmlTable = "AssetListTable";
        let htmlTableBody = "AssetListTableBody";
        let htmlTableRow = "AssetListTableRow";
        let htmlTableHeader = "PushAssetListTableHeader";
        let htmlTableFooter = "PushAssetListTableFooter";
        let htmlTableEmpty = "PushAssetListEmpty";

        gPushAssetCurrentPage = pageNo;
        let itemsPerPage = gPushAssetDefaultItemsPerPage;
        if (haveElm("pushAssetListItemsPerPage") == true) {
            itemsPerPage = getElm("pushAssetListItemsPerPage").value;
        }

        if (targetElmId.trim().length === 0) {
            showText(responseElm, 'Enter Target Element Id', 'red');
            valid = false;
        }

        if (valid === true) {


            let url = '/AppApi/SyncApi';
            let urlContent = {
                "jsonrpc": '2.0', "method": 'GetResourceAssetListView',
                "params": {
                    "appSite": '{{$AppSite}}',
                    "htmlTableEmpty": htmlTableEmpty,
                    "htmlTable": htmlTable,
                    "htmlTableBody": htmlTableBody,
                    "htmlTableRow": htmlTableRow,
                    "htmlTableHeader": htmlTableHeader,
                    "htmlTableFooter": htmlTableFooter,
                    "pageNo": pageNo,
                    "itemsPerPage": itemsPerPage,
                }, "id": id
            };

            dopost(progressElmId, responseElmId, url, urlContent,
                function (data) {
                    if ((data.hasOwnProperty('Result') === true) && (data.Result))  {
                        let result = data.Result;
                        if (result.hasOwnProperty('html') === true) {
                            let rootNode = getElm(targetElmId);
                            rootNode.innerHTML = result.html;
                            showElm(targetElmId);

                            if (typeof successCallback === "function") {
                                successCallback();
                            }
                        }
                        if (result.hasOwnProperty('error') === true) {
                            showText(responseElm, result.error, 'red');
                        }
                        //else if (result.hasOwnProperty('message') === true) {
                        //    showText(responseElm, result.message, 'green');
                        //}
                    }
                    else if ((data.hasOwnProperty('Error') === true) && (data.Error)) {
                        let error = data.Error;
                        if (error.hasOwnProperty('Message') === true) {
                            showText(responseElm, error.Message, 'red');
                        }
                    }
                });
        }
        return false;
    }

    function refreshPushAssetList(progressElmId, currentPageNo, successCallback) {

        let valid = true;
        if (progressElmId) { valid = true; } else { valid = false; }
        if (currentPageNo) { valid = true; } else { valid = false; }

        if (valid === true) {
            fillPushAssetList(progressElmId, gPushAssetResponseElmId, gPushAssetTargetElmId, currentPageNo, successCallback);
        }
    }

    function pushAppWeb(progressElmId, responseElmId, remoteDomainUrlVal, remoteDomainUserIdVal, remoteDomainUserPasswordVal, assetDirVal, successCallback) {

        let id = window.ajaxid++;
        let responseElm = getElm(responseElmId);
        let responseContainerElmId = responseElmId + "Container";
        responseElm.textContent = '';
        hideElm(responseContainerElmId);
        let valid = true;


        if (remoteDomainUrlVal.trim().length === 0) {
            showText(responseElm, 'Enter Remote Domain Url', 'red');
            valid = false;
        }

        if (valid == true) {
            if (remoteDomainUserIdVal.trim().length === 0) {
                showText(responseElm, 'Enter Remote Domain User Id', 'red');
                valid = false;
            }
        }

        if (valid == true) {
            if (remoteDomainUserPasswordVal.trim().length === 0) {
                showText(responseElm, 'Enter Remote Domain User Password', 'red');
                valid = false;
            }
        }

        let itemSelectArr = [];
        if (haveElms(".selectBox" + assetDirVal) == true) {
            getElms(".selectBox" + assetDirVal).forEach(function (item) {
                if (item.checked == true) {
                    let itemId = item.getAttribute("value");
                    itemSelectArr.push(itemId);
                }
            })
        }

        if (valid == true) {
            if (itemSelectArr.length === 0) {
                showText(responseElm, 'Select Asset to Push', 'red');
                valid = false;
            }
        }

        let assetJsonArray = []
        for (let i = 0; i < itemSelectArr.length; i++) {
            let item = itemSelectArr[i];
            assetJsonArray.push({
                "AssetPath": item,
            });
        }

        if (valid === true) {


            let url = '/AppApi/SyncApi';
            let urlContent = {
                "jsonrpc": '2.0', "method": 'PushAppWeb', "params": {
                    "remoteDomainUrl": remoteDomainUrlVal,
                    "remoteDomainUserId": remoteDomainUserIdVal,
                    "remoteDomainUserPassword": remoteDomainUserPasswordVal,
                    "assetJsonArray": assetJsonArray,
                    "autoRefresh": false
                }, "id": id
            };

            dopost(progressElmId, responseElmId, url, urlContent,
                function (data) {
                    if ((data.hasOwnProperty('Result') === true) && (data.Result))  {
                        let result = data.Result;
                        if (result.hasOwnProperty('message') === true) {

                            showText(responseElm, result.message, 'green');

                            if (typeof successCallback === "function") {
                                successCallback();
                            }
                        }
                        if (result.hasOwnProperty('error') === true) {
                            showText(responseElm, result.error, 'red');
                        }
                    }
                    else if ((data.hasOwnProperty('Error') === true) && (data.Error)) {
                        let error = data.Error;
                        if (error.hasOwnProperty('Message') === true) {
                            showText(responseElm, error.Message, 'red');
                        }
                    }
                });
        }
        return false;
    }




    function refreshRemoteInboxList(progressElmId, responseElmId, remoteDomainUrlVal, remoteDomainUserIdVal, remoteDomainUserPasswordVal, targetSelectElmId, successCallback) {

        let id = window.ajaxid++;
        let responseElm = getElm(responseElmId);
        let responseContainerElmId = responseElmId + "Container";
        //responseElm.textContent = '';
        //hideElm(responseContainerElmId);
        let valid = true;

        let selectElm = getElm(targetSelectElmId);
        selectElm.options.length = 0;
        let optionElm = document.createElement("option");
        optionElm.text = "Refresh Remote Inbox";
        optionElm.value = "0";
        selectElm.add(optionElm);

        if (remoteDomainUrlVal.trim().length === 0) {
            showText(responseElm, 'Enter Remote Domain Url', 'red');
            valid = false;
        }

        if (valid == true) {
            if (remoteDomainUserIdVal.trim().length === 0) {
                showText(responseElm, 'Enter Remote Domain User Id', 'red');
                valid = false;
            }
        }

        if (valid == true) {
            if (remoteDomainUserPasswordVal.trim().length === 0) {
                showText(responseElm, 'Enter Remote Domain User Password', 'red');
                valid = false;
            }
        }

        if (valid === true) {

            let appWebInboxName = getElm('remoteInboxList').value;

            if (appWebInboxName.trim().length === 0) {
                let rootNode = getElm(gPullAssetTargetElmId);
                rootNode.innerHTML = "";
                hideElm(gPullAssetTargetElmId);
            }
            else if (appWebInboxName.trim() == "0") {
                let rootNode = getElm(gPullAssetTargetElmId);
                rootNode.innerHTML = "";
                hideElm(gPullAssetTargetElmId);
            }

            let selectIndex = 0;

            let url = '/AppApi/SyncApi';
            let urlContent = {
                "jsonrpc": '2.0', "method": 'GetRemoteInboxSelectList', "params": {
                    "remoteDomainUrl": remoteDomainUrlVal,
                    "remoteDomainUserId": remoteDomainUserIdVal,
                    "remoteDomainUserPassword": remoteDomainUserPasswordVal,
                }, "id": id
            };

            dopost(progressElmId, responseElmId, url, urlContent,
                function (data) {
                    if ((data.hasOwnProperty('Result') === true) && (data.Result))  {
                        let result = data.Result;
                        if (result.hasOwnProperty('html') === true) {
                            let rootNode = getElm(targetSelectElmId);
                            rootNode.innerHTML = result.html;
                            showElm(targetSelectElmId);

                            if (typeof successCallback === "function") {
                                successCallback();
                            }
                        }
                        else if (result.hasOwnProperty('data') === true) {
                            let selectElm = getElm(targetSelectElmId);
                            if (selectElm) {
                                let retData = result.data;
                                selectElm.options.length = 0;

                                for (let i = 0; i < retData.length; i++) {
                                    let jsonData = retData[i];
                                    if (jsonData.hasOwnProperty("OptionText") && jsonData.hasOwnProperty("OptionValue")) {
                                        let optionText = jsonData.OptionText;
                                        let optionValue = jsonData.OptionValue;
                                        selectElm.options[selectElm.options.length] = new Option(optionText, optionValue);
                                    }
                                }
                                if (selectIndex === 999) {
                                    selectElm.selectedIndex = selectElm.options.length - 1;
                                }
                                else {
                                    selectElm.selectedIndex = selectIndex;
                                }
                                showElm(targetSelectElmId);

                                if (typeof (successCallback) === "function") {
                                    successCallback();
                                }
                            }
                        }

                        if (result.hasOwnProperty('error') === true) {
                            showText(responseElm, result.error, 'red');
                        }
                        //else if (result.hasOwnProperty('message') === true) {
                        //    showText(responseElm, result.message, 'green');
                        //}
                    }
                    else if ((data.hasOwnProperty('Error') === true) && (data.Error)) {
                        let error = data.Error;
                        if (error.hasOwnProperty('Message') === true) {
                            showText(responseElm, error.Message, 'red');
                        }
                    }
                });
        }
        return false;
    }

    function deleteRemoteInbox(progressElmId, responseElmId, remoteDomainUrlVal, remoteDomainUserIdVal, remoteDomainUserPasswordVal, appWebInboxNameVal, successCallback) {

        let id = window.ajaxid++;
        let responseElm = getElm(responseElmId);
        let responseContainerElmId = responseElmId + "Container";
        responseElm.textContent = '';
        hideElm(responseContainerElmId);
        let valid = true;


        if (remoteDomainUrlVal.trim().length === 0) {
            showText(responseElm, 'Enter Remote Domain Url', 'red');
            valid = false;
        }

        if (valid == true) {
            if (remoteDomainUserIdVal.trim().length === 0) {
                showText(responseElm, 'Enter Remote Domain User Id', 'red');
                valid = false;
            }
        }

        if (valid == true) {
            if (remoteDomainUserPasswordVal.trim().length === 0) {
                showText(responseElm, 'Enter Remote Domain User Password', 'red');
                valid = false;
            }
        }

        if (valid == true) {
            if (appWebInboxNameVal.trim().length === 0) {
                showText(responseElm, 'Select AppWeb Inbox Name', 'red');
                valid = false;
            }
            else if (appWebInboxNameVal.trim() == "0") {
                showText(responseElm, 'Refresh and Select Remote Inbox Name', 'red');
                valid = false;
            }
        }

        if (valid === true) {


            let url = '/AppApi/SyncApi';
            let urlContent = {
                "jsonrpc": '2.0', "method": 'DeleteRemoteInbox', "params": {
                    "remoteDomainUrl": remoteDomainUrlVal,
                    "remoteDomainUserId": remoteDomainUserIdVal,
                    "remoteDomainUserPassword": remoteDomainUserPasswordVal,
                    "inboxName": appWebInboxNameVal,
                }, "id": id
            };

            dopost(progressElmId, responseElmId, url, urlContent,
                function (data) {
                    if ((data.hasOwnProperty('Result') === true) && (data.Result))  {
                        let result = data.Result;
                        if (result.hasOwnProperty('message') === true) {

                            showText(responseElm, result.message, 'green');

                            if (typeof successCallback === "function") {
                                successCallback();
                            }
                        }
                        if (result.hasOwnProperty('error') === true) {
                            showText(responseElm, result.error, 'red');
                        }
                    }
                    else if ((data.hasOwnProperty('Error') === true) && (data.Error)) {
                        let error = data.Error;
                        if (error.hasOwnProperty('Message') === true) {
                            showText(responseElm, error.Message, 'red');
                        }
                    }
                });
        }
        return false;
    }

    let gPullAssetResponseElmId = "pullResponse";
    let gPullAssetTargetElmId = "pullRemoteAssetList";
    let gPullAssetCurrentPage = 1;
    let gPullAssetDefaultItemsPerPage = 5;

    function fillPullAssetList(progressElmId, responseElmId, remoteDomainUrlVal, remoteDomainUserIdVal, remoteDomainUserPasswordVal, appWebInboxNameVal, targetElmId, pageNo, successCallback) {

        let id = window.ajaxid++;
        let responseElm = getElm(responseElmId);
        let responseContainerElmId = responseElmId + "Container";
        //responseElm.textContent = '';
        //hideElm(responseContainerElmId);
        let valid = true;

        let htmlTable = "AssetListTable";
        let htmlTableBody = "AssetListTableBody";
        let htmlTableRow = "AssetListTableRow";
        let htmlTableHeader = "PullAssetListTableHeader";
        let htmlTableFooter = "PullAssetListTableFooter";
        let htmlTableEmpty = "PullAssetListEmpty";

        gPullAssetCurrentPage = pageNo;
        let itemsPerPage = gPullAssetDefaultItemsPerPage;
        if (haveElm("pullAssetListItemsPerPage") == true) {
            itemsPerPage = getElm("pullAssetListItemsPerPage").value;
        }

        if (remoteDomainUrlVal.trim().length === 0) {
            showText(responseElm, 'Enter Remote Domain Url', 'red');
            valid = false;
        }

        if (valid == true) {
            if (remoteDomainUserIdVal.trim().length === 0) {
                showText(responseElm, 'Enter Remote Domain User Id', 'red');
                valid = false;
            }
        }

        if (valid == true) {
            if (remoteDomainUserPasswordVal.trim().length === 0) {
                showText(responseElm, 'Enter Remote Domain User Password', 'red');
                valid = false;
            }
        }

        if (valid == true) {
            if (appWebInboxNameVal.trim().length === 0) {
                showText(responseElm, 'Select Remote Inbox Name', 'red');
                valid = false;
            }
            else if (appWebInboxNameVal.trim() == "0") {
                showText(responseElm, 'Refresh and Select Remote Inbox Name', 'red');
                valid = false;
            }
        }

        if (targetElmId.trim().length === 0) {
            showText(responseElm, 'Enter Target Element Id', 'red');
            valid = false;
        }

        if (valid === true) {


            let url = '/AppApi/SyncApi';
            let urlContent = {
                "jsonrpc": '2.0', "method": 'GetRemoteInboxAssetListView',
                "params": {
                    "remoteDomainUrl": remoteDomainUrlVal,
                    "remoteDomainUserId": remoteDomainUserIdVal,
                    "remoteDomainUserPassword": remoteDomainUserPasswordVal,
                    "inboxName": appWebInboxNameVal,
                    "appSite": '{{$AppSite}}',
                    "htmlTableEmpty": htmlTableEmpty,
                    "htmlTable": htmlTable,
                    "htmlTableBody": htmlTableBody,
                    "htmlTableRow": htmlTableRow,
                    "htmlTableHeader": htmlTableHeader,
                    "htmlTableFooter": htmlTableFooter,
                    "pageNo": pageNo,
                    "itemsPerPage": itemsPerPage,
                }, "id": id
            };

            dopost(progressElmId, responseElmId, url, urlContent,
                function (data) {
                    if ((data.hasOwnProperty('Result') === true) && (data.Result))  {
                        let result = data.Result;
                        if (result.hasOwnProperty('html') === true) {
                            let rootNode = getElm(targetElmId);
                            rootNode.innerHTML = result.html;
                            showElm(targetElmId);

                            if (typeof successCallback === "function") {
                                successCallback();
                            }
                        }
                        if (result.hasOwnProperty('error') === true) {
                            showText(responseElm, result.error, 'red');
                        }
                        //else if (result.hasOwnProperty('message') === true) {
                        //    showText(responseElm, result.message, 'green');
                        //}
                    }
                    else if ((data.hasOwnProperty('Error') === true) && (data.Error)) {
                        let error = data.Error;
                        if (error.hasOwnProperty('Message') === true) {
                            showText(responseElm, error.Message, 'red');
                        }
                    }
                });
        }
        return false;
    }

    function refreshPullAssetList(progressElmId, currentPageNo, successCallback) {

        let valid = true;
        if (progressElmId) { valid = true; } else { valid = false; }
        if (currentPageNo) { valid = true; } else { valid = false; }

        if (valid === true) {

            let remoteDomainUrl = getElm('remoteDomainUrl').value;
            let remoteDomainUserId = getElm('remoteDomainUserId').value;
            let remoteDomainUserPassword = getElm('remoteDomainUserPassword').value;
            let appWebInboxName = getElm('remoteInboxList').value;

            if (appWebInboxName.trim().length === 0) {
                let rootNode = getElm(gPullAssetTargetElmId);
                rootNode.innerHTML = "";
                hideElm(gPullAssetTargetElmId);
            }
            else if (appWebInboxName.trim() == "0") {
                let rootNode = getElm(gPullAssetTargetElmId);
                rootNode.innerHTML ="";
                hideElm(gPullAssetTargetElmId);
            }
            else {
                fillPullAssetList(progressElmId, gPullAssetResponseElmId, remoteDomainUrl, remoteDomainUserId, remoteDomainUserPassword, appWebInboxName, gPullAssetTargetElmId, currentPageNo, successCallback);
            }
        }
    }

    function pullAppWeb(progressElmId, responseElmId, remoteDomainUrlVal, remoteDomainUserIdVal, remoteDomainUserPasswordVal, appWebInboxNameVal, assetDirVal, successCallback) {

        let id = window.ajaxid++;
        let responseElm = getElm(responseElmId);
        let responseContainerElmId = responseElmId + "Container";
        responseElm.textContent = '';
        hideElm(responseContainerElmId);
        let valid = true;


        if (remoteDomainUrlVal.trim().length === 0) {
            showText(responseElm, 'Enter Remote Domain Url', 'red');
            valid = false;
        }

        if (valid == true) {
            if (remoteDomainUserIdVal.trim().length === 0) {
                showText(responseElm, 'Enter Remote Domain User Id', 'red');
                valid = false;
            }
        }

        if (valid == true) {
            if (remoteDomainUserPasswordVal.trim().length === 0) {
                showText(responseElm, 'Enter Remote Domain User Password', 'red');
                valid = false;
            }
        }

        if (valid == true) {
            if (appWebInboxNameVal.trim().length === 0) {
                showText(responseElm, 'Select Remote Inbox Name', 'red');
                valid = false;
            }
            else if (appWebInboxNameVal.trim() == "0") {
                showText(responseElm, 'Refresh and Select Remote Inbox Name', 'red');
                valid = false;
            }
        }

        let itemSelectArr = [];
        if (haveElms(".selectBox" + assetDirVal) == true) {
            getElms(".selectBox" + assetDirVal).forEach(function (item) {
                if (item.checked == true) {
                    let itemId = item.getAttribute("value");
                    itemSelectArr.push(itemId);
                }
            })
        }

        if (valid == true) {
            if (itemSelectArr.length === 0) {
                showText(responseElm, 'Select Asset to Pull', 'red');
                valid = false;
            }
        }

        let assetJsonArray = []
        for (let i = 0; i < itemSelectArr.length; i++) {
            let item = itemSelectArr[i];
            assetJsonArray.push({
                "AssetPath": item,
            });
        }

        if (valid === true) {


            let url = '/AppApi/SyncApi';
            let urlContent = {
                "jsonrpc": '2.0', "method": 'PullAppWeb', "params": {
                    "remoteDomainUrl": remoteDomainUrlVal,
                    "remoteDomainUserId": remoteDomainUserIdVal,
                    "remoteDomainUserPassword": remoteDomainUserPasswordVal,
                    "inboxName": appWebInboxNameVal,
                    "assetJsonArray": assetJsonArray,
                    "autoRefresh": false
                }, "id": id
            };

            dopost(progressElmId, responseElmId, url, urlContent,
                function (data) {
                    if ((data.hasOwnProperty('Result') === true) && (data.Result))  {
                        let result = data.Result;
                        if (result.hasOwnProperty('message') === true) {

                            showText(responseElm, result.message, 'green');

                            if (typeof successCallback === "function") {
                                successCallback();
                            }
                        }
                        if (result.hasOwnProperty('error') === true) {
                            showText(responseElm, result.error, 'red');
                        }
                    }
                    else if ((data.hasOwnProperty('Error') === true) && (data.Error)) {
                        let error = data.Error;
                        if (error.hasOwnProperty('Message') === true) {
                            showText(responseElm, error.Message, 'red');
                        }
                    }
                });
        }
        return false;
    }




    function refreshLocalInboxList(progressElmId, responseElmId, targetSelectElmId, successCallback) {

        let id = window.ajaxid++;
        let responseElm = getElm(responseElmId);
        let responseContainerElmId = responseElmId + "Container";
        //responseElm.textContent = '';
        //hideElm(responseContainerElmId);
        let valid = true;

        let selectElm = getElm( targetSelectElmId);
        selectElm.options.length = 0;
        let optionElm = document.createElement("option");
        optionElm.text = "Refresh Local Inbox";
        optionElm.value = "0";
        selectElm.add(optionElm);

        if (valid === true) {

            let appWebInboxName = getElm('localInboxList').value;

            if (appWebInboxName.trim().length === 0) {
                let rootNode = getElm(gLocalAssetTargetElmId);
                rootNode.innerHTML = "";
                hideElm(gLocalAssetTargetElmId);
            }
            else if (appWebInboxName.trim() == "0") {
                let rootNode = getElm(gLocalAssetTargetElmId);
                rootNode.innerHTML = "";
                hideElm(gLocalAssetTargetElmId);
            }

            let selectIndex = 0;

            let url = '/AppApi/SyncApi';
            let urlContent = {
                "jsonrpc": '2.0', "method": 'GetLocalInboxSelectList', "params": {
                }, "id": id
            };

            dopost(progressElmId, responseElmId, url, urlContent,
                function (data) {
                    if ((data.hasOwnProperty('Result') === true) && (data.Result))  {
                        let result = data.Result;
                        if (result.hasOwnProperty('html') === true) {
                            let rootNode = getElm(targetElmId);
                            rootNode.innerHTML = result.html;
                            showElm(targetElmId);

                            if (typeof successCallback === "function") {
                                successCallback();
                            }
                        }
                        else if (result.hasOwnProperty('data') === true) {
                            let selectElm = getElm(targetSelectElmId);
                            if (selectElm) {
                                let retData = result.data;
                                selectElm.options.length = 0;

                                for (let i = 0; i < retData.length; i++) {
                                    let jsonData = retData[i];
                                    if (jsonData.hasOwnProperty("OptionText") && jsonData.hasOwnProperty("OptionValue")) {
                                        let optionText = jsonData.OptionText;
                                        let optionValue = jsonData.OptionValue;
                                        selectElm.options[selectElm.options.length] = new Option(optionText, optionValue);
                                    }
                                }
                                if (selectIndex === 999) {
                                    selectElm.selectedIndex = selectElm.options.length - 1;
                                }
                                else {
                                    selectElm.selectedIndex = selectIndex;
                                }
                                showElm(targetSelectElmId);

                                if (typeof (successCallback) === "function") {
                                    successCallback();
                                }
                            }
                        }
                        if (result.hasOwnProperty('error') === true) {
                            showText(responseElm, result.error, 'red');
                        }
                        //else if (result.hasOwnProperty('message') === true) {
                        //    showText(responseElm, result.message, 'green');
                        //}
                    }
                    else if ((data.hasOwnProperty('Error') === true) && (data.Error)) {
                        let error = data.Error;
                        if (error.hasOwnProperty('Message') === true) {
                            showText(responseElm, error.Message, 'red');
                        }
                    }
                });
        }
        return false;
    }

    function deleteLocalInbox(progressElmId, responseElmId, appWebInboxNameVal, successCallback) {

        let id = window.ajaxid++;
        let responseElm = getElm(responseElmId);
        let responseContainerElmId = responseElmId + "Container";
        responseElm.textContent = '';
        hideElm(responseContainerElmId);
        let valid = true;


        if (valid == true) {
            if (appWebInboxNameVal.trim().length === 0) {
                showText(responseElm, "Select Local Inbox Name", 'red');
                valid = false;
            }
            else if (appWebInboxNameVal.trim() == "0") {
                showText(responseElm, "Refresh and Select Local Inbox Name", 'red');
                valid = false;
            }
        }

        if (valid === true) {


            let url = '/AppApi/SyncApi';
            let urlContent = {
                "jsonrpc": '2.0', "method": 'DeleteLocalInbox', "params": {
                    "inboxName": appWebInboxNameVal,
                }, "id": id
            };

            dopost(progressElmId, responseElmId, url, urlContent,
                function (data) {
                    if ((data.hasOwnProperty('Result') === true) && (data.Result))  {
                        let result = data.Result;
                        if (result.hasOwnProperty('message') === true) {

                            showText(responseElm, result.message, 'green');

                            if (typeof successCallback === "function") {
                                successCallback();
                            }
                        }
                        if (result.hasOwnProperty('error') === true) {
                            showText(responseElm, result.error, 'red');
                        }
                    }
                    else if ((data.hasOwnProperty('Error') === true) && (data.Error)) {
                        let error = data.Error;
                        if (error.hasOwnProperty('Message') === true) {
                            showText(responseElm, error.Message, 'red');
                        }
                    }
                });
        }
        return false;
    }

    let gLocalAssetResponseElmId = "unpackResponse";
    let gLocalAssetTargetElmId = "unpackLocalAssetList";
    let gLocalAssetCurrentPage = 1;
    let gLocalAssetDefaultItemsPerPage = 5;

    function fillLocalAssetList(progressElmId, responseElmId, appWebInboxNameVal, targetElmId, pageNo, successCallback) {

        let id = window.ajaxid++;
        let responseElm = getElm(responseElmId);
        let responseContainerElmId = responseElmId + "Container";
        //responseElm.textContent = '';
        //hideElm(responseContainerElmId);
        let valid = true;

        let htmlTable = "AssetListTable";
        let htmlTableBody = "AssetListTableBody";
        let htmlTableRow = "AssetListTableRow";
        let htmlTableHeader = "LocalAssetListTableHeader";
        let htmlTableFooter = "LocalAssetListTableFooter";
        let htmlTableEmpty = "LocalAssetListEmpty";

        gLocalAssetCurrentPage = pageNo;
        let itemsPerPage = gLocalAssetDefaultItemsPerPage;
        if (haveElm("localAssetListItemsPerPage") ==true) {
            itemsPerPage = getElm("localAssetListItemsPerPage").Value;
        }

        if (valid == true) {
            if (appWebInboxNameVal.trim().length === 0) {
                showText(responseElm, "Enter Target Element Id", 'red');
                valid = false;
            }
            else if (appWebInboxNameVal.trim() == "0") {
                showText(responseElm, "Refresh and Select Local Inbox Name", 'red');
                valid = false;
            }
        }

        if (targetElmId.trim().length === 0) {
            showText(responseElm, "Enter Target Element Id", 'red');
            valid = false;
        }

        if (valid === true) {


            let url = '/AppApi/SyncApi';
            let urlContent = {
                "jsonrpc": '2.0', "method": 'GetLocalInboxAssetListView',
                "params": {
                    "inboxName": appWebInboxNameVal,
                    "appSite": '{{$AppSite}}',
                    "htmlTableEmpty": htmlTableEmpty,
                    "htmlTable": htmlTable,
                    "htmlTableBody": htmlTableBody,
                    "htmlTableRow": htmlTableRow,
                    "htmlTableHeader": htmlTableHeader,
                    "htmlTableFooter": htmlTableFooter,
                    "pageNo": pageNo,
                    "itemsPerPage": itemsPerPage,
                }, "id": id
            };

            dopost(progressElmId, responseElmId, url, urlContent,
                function (data) {
                    if ((data.hasOwnProperty('Result') === true) && (data.Result))  {
                        let result = data.Result;
                        if (result.hasOwnProperty('html') === true) {
                            let rootNode = getElm(targetElmId);
                            rootNode.innerHTML = result.html;
                            showElm(targetElmId);

                            if (typeof successCallback === "function") {
                                successCallback();
                            }
                        }
                        if (result.hasOwnProperty('error') === true) {
                            showText(responseElm, result.error, 'red');
                        }
                        //else if (result.hasOwnProperty('message') === true) {
                        //    showText(responseElm, result.message, 'green');
                        //}
                    }
                    else if ((data.hasOwnProperty('Error') === true) && (data.Error)) {
                        let error = data.Error;
                        if (error.hasOwnProperty('Message') === true) {
                            showText(responseElm, error.Message, 'red');
                        }
                    }
                });
        }
        return false;
    }

    function refreshLocalAssetList(progressElmId, currentPageNo, successCallback) {

        let valid = true;
        if (progressElmId) { valid = true; } else { valid = false; }
        if (currentPageNo) { valid = true; } else { valid = false; }

        if (valid === true) {

            let appWebLocalInboxName = getElm('localInboxList').value;

            if (appWebLocalInboxName.trim().length === 0) {
                let rootNode = getElm(gLocalAssetTargetElmId);
                rootNode.innerHTML ="";
                hideElm(gLocalAssetTargetElmId);
            }
            else if (appWebLocalInboxName.trim() == "0") {
                let rootNode = getElm(gLocalAssetTargetElmId);
                rootNode.innerHTML = "";
                hideElm(gLocalAssetTargetElmId);
            }
            else {
                fillLocalAssetList(progressElmId, gLocalAssetResponseElmId, appWebLocalInboxName, gLocalAssetTargetElmId, currentPageNo, successCallback);
            }
        }
    }

    function unPackAppWeb(progressElmId, responseElmId, appWebInboxNameVal, assetDirVal, successCallback) {

        let id = window.ajaxid++;
        let responseElm = getElm(responseElmId);
        let responseContainerElmId = responseElmId + "Container";
        responseElm.textContent = '';
        hideElm(responseContainerElmId);
        let valid = true;

        if (valid == true) {
            if (appWebInboxNameVal.trim().length === 0) {
                showText(responseElm, 'Select Local Inbox Name', 'red');
                valid = false;
            }
            else if (appWebInboxNameVal.trim() == "0") {
                showText(responseElm, 'Refresh and Select Local Inbox Name', 'red');
                valid = false;
            }
        }

        let itemSelectArr = [];
        if (haveElms(".selectBox" + assetDirVal) == true) {
            getElms(".selectBox" + assetDirVal).forEach(function (item) {
                if (item.checked == true) {
                    let itemId = item.getAttribute("value");
                    itemSelectArr.push(itemId);
                }
            })
        }

        if (valid == true) {
            if (itemSelectArr.length === 0) {
                showText(responseElm, 'Select Asset to UnPack', 'red');
                valid = false;
            }
        }
        let assetJsonArray = []
        for (let i = 0; i < itemSelectArr.length; i++) {
            let item = itemSelectArr[i];
            assetJsonArray.push({
                "AssetPath": item,
            });
        }
        if (valid === true) {


            let url = '/AppApi/SyncApi';
            let urlMethod = 'POST';
            let urlContent = {
                "jsonrpc": '2.0', "method": 'UnPackAppWeb', "params": {
                    "inboxName": appWebInboxNameVal,
                    "assetJsonArray": assetJsonArray
                }, "id": id
            };

            dopost(progressElmId, responseElmId, url, urlContent,
                function (data) {
                    if ((data.hasOwnProperty('Result') === true) && (data.Result))  {
                        let result = data.Result;
                        if (result.hasOwnProperty('message') === true) {

                            showText(responseElm, result.message, 'green');

                            if (typeof successCallback === "function") {
                                successCallback();
                            }
                        }
                        if (result.hasOwnProperty('error') === true) {
                            showText(responseElm, result.error, 'red');
                        }
                    }
                    else if ((data.hasOwnProperty('Error') === true) && (data.Error)) {
                        let error = data.Error;
                        if (error.hasOwnProperty('Message') === true) {
                            showText(responseElm, error.Message, 'red');
                        }
                    }
                });

        }
        return false;
    }

    function copyPackAppWeb(progressElmId, responseElmId, appWebInboxNameVal, assetDirVal, successCallback) {

        let id = window.ajaxid++;
        let responseElm = getElm(responseElmId);
        let responseContainerElmId = responseElmId + "Container";
        responseElm.textContent = '';
        hideElm(responseContainerElmId);
        let valid = true;

        if (valid == true) {
            if (appWebInboxNameVal.trim().length === 0) {
                showText(responseElm, 'Select Local Inbox Name', 'red');
                valid = false;
            }
            else if (appWebInboxNameVal.trim() == "0") {
                showText(responseElm, 'Refresh and Select Local Inbox Name', 'red');
                valid = false;
            }
        }
        
        let itemSelectArr = [];
        if (haveElms(".selectBox" + assetDirVal) ==true) {
            getElms(".selectBox" + assetDirVal).forEach(function (item) {
                if (item.checked == true) {
                    let itemId = item.getAttribute("value");
                    itemSelectArr.push(itemId);
                }
            })
        }

        if (valid == true) {
            if (itemSelectArr.length === 0) {
                showText(responseElm, 'Select Asset to Copy', 'red');
                valid = false;
            }
        }
        let assetJsonArray = []
        for (let i = 0; i < itemSelectArr.length; i++) {
            let item = itemSelectArr[i];
            assetJsonArray.push({
                "AssetPath": item,
            });
        }
        if (valid === true) {


            let url = '/AppApi/SyncApi';
            let urlMethod = 'POST';
            let urlContent = {
                "jsonrpc": '2.0', "method": 'CopyPackAppWeb', "params": {
                    "inboxName": appWebInboxNameVal,
                    "assetJsonArray": assetJsonArray
                }, "id": id
            };

            dopost(progressElmId, responseElmId, url, urlContent,
                function (data) {
                    if ((data.hasOwnProperty('Result') === true) && (data.Result))  {
                        let result = data.Result;
                        if (result.hasOwnProperty('message') === true) {

                            showText(responseElm, result.message, 'green');

                            if (typeof successCallback === "function") {
                                successCallback();
                            }
                        }
                        if (result.hasOwnProperty('error') === true) {
                            showText(responseElm, result.error, 'red');
                        }
                    }
                    else if ((data.hasOwnProperty('Error') === true) && (data.Error)) {
                        let error = data.Error;
                        if (error.hasOwnProperty('Message') === true) {
                            showText(responseElm, error.Message, 'red');
                        }
                    }
                });

        }
        return false;
    }


    function selectAllItem(assetDirSuffix) {

        if (getElm('selectAll' + assetDirSuffix).checked == true) {
            getElms(".selectBox" + assetDirSuffix).forEach(function (item) {
                item.checked = true;
            })
        } else {
            getElms(".selectBox" + assetDirSuffix).forEach(function (item) {
                item.checked = false;
            })
        }
    }

    function initShowAddBtn() {

        if (isHiddenElm('pushPullConfig') == true) {
            showElm('pushPullShowHideIconZoomOut');
            hideElm('pushPullShowHideIconZoomIn')
        } else {
            showElm('pushPullShowHideIconZoomIn');
            hideElm('pushPullShowHideIconZoomOut')
        }

        if (isHiddenElm('packDiv') == true) {
            showElm('packShowHideIconZoomOut');
            hideElm('packShowHideIconZoomIn')
        } else {
            showElm('packShowHideIconZoomIn');
            hideElm('packShowHideIconZoomOut')
        }

        if (isHiddenElm('pushDiv') == true) {
            showElm('pushShowHideIconZoomOut');
            hideElm('pushShowHideIconZoomIn')
        } else {
            showElm('pushShowHideIconZoomIn');
            hideElm('pushShowHideIconZoomOut')
        }

        if (isHiddenElm('pullDiv') == true) {
            showElm('pullShowHideIconZoomOut');
            hideElm('pullShowHideIconZoomIn')
        } else {
            showElm('pullShowHideIconZoomIn');
            hideElm('pullShowHideIconZoomOut')
        }

        if (isHiddenElm('unPackDiv') == true) {
            showElm('unPackShowHideIconZoomOut');
            hideElm('unPackShowHideIconZoomIn')
        } else {
            showElm('unPackShowHideIconZoomIn');
            hideElm('unPackShowHideIconZoomOut')
        }
    }

    ready(() => {
        initShowAddBtn();
    });

</script>

<style>

    .tab-active {
        color: black;
        font-weight: bolder;
    }
</style>

<div class="container">
    <div class="ar-flex-card" style="margin: 0px 10px;">

        <div class="ar-flex-input-wrap" style="margin: 5px 0px;">
            <button class="ar-border-left" style="width:40px;height:40px;" onclick="if (isHiddenElm('pushPullConfig') == true) { showElm('pushPullConfig'); } else { hideElm('pushPullConfig'); } ">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg>
            </button>
            <button class="ar-flex-item-stretch ar-border-top-bottom">
                Authentication
            </button>
            <button class="ar-border-right" style="width:40px;height:40px;" id="pushPullShowHideBtn" onclick="toggleElm('pushPullConfig'); toggleElm('pushPullShowHideIconZoomOut'); toggleElm('pushPullShowHideIconZoomIn');">
                <svg id="pushPullShowHideIconZoomOut" style="display:none;" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"></path></svg>
                <svg id="pushPullShowHideIconZoomIn" style="display:none;" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"></path></svg>
            </button>
        </div>

        <div id="pushPullConfig" class="ar-card-border" style="display:none;">
            <div style="margin: 5px 0px;">
                <div style="padding: 0px 5px;" onclick="if (getElm('remoteDomainUrl').value.length > 0) { getElm('remoteDomainUrl').value = ''; } else { getElm('remoteDomainUrl').value = 'https://{{$RootDomain}}:{{$RootPort}}'; }">
                    Remote Domain Url
                </div>
                <div class="ar-flex-item-stretch">
                    <input class="ar-border" style="width:100%;height:40px;" id="remoteDomainUrl" name="remoteDomainUrl" type="text" value="https://{{$RootDomain}}:{{$RootPort}}" placeholder="Enter Remote Domain Url">
                </div>
            </div>

            <div style="margin: 5px 0px;">
                <div style="padding: 0px 5px; " onclick="getElm('remoteDomainUserId').value ='';">
                    Remote User Id
                </div>
                <div class="ar-flex-item-stretch">
                    <input class="ar-border" style="width:100%;height:40px;" id="remoteDomainUserId" name="remoteDomainUserId" type="text" value="" placeholder="Enter Remote User Id">
                </div>
            </div>

            <div style="margin: 5px 0px;">
                <div style="padding: 0px 5px;" onclick="getElm('remoteDomainUserPassword').value = '';">
                    Remote User Password
                </div>
                <div class="ar-flex-item-stretch">
                    <input class="ar-border" style="width:100%;height:40px;" id="remoteDomainUserPassword" name="remoteDomainUserPassword" type="password" value="" placeholder="Enter Remote User Password">
                </div>
            </div>
        </div>

        <div class="ar-flex-input-wrap" style="margin: 5px 0px;">
            <button class="ar-border-left" style="width:40px;height:40px;" onclick="if (isHiddenElm('appWebConfig') == true) { fillAppWebConfig('packProgress', 'packResponse', 'appWebConfig', null); } else { hideElm('appWebConfig'); } ">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg>
            </button>
            <button class="ar-flex-item-stretch ar-border-top-bottom">
                Pack AppWebs to Assets
            </button>
            <button class="ar-border-right" style="width:40px;height:40px;" id="packShowHideBtn" onclick=" toggleElm('packShowHideIconZoomOut'); toggleElm('packShowHideIconZoomIn'); toggleElm('packDiv');">
                <svg id="packShowHideIconZoomOut" style="display:none;" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"></path></svg>
                <svg id="packShowHideIconZoomIn" style="display:none;" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"></path></svg>
            </button>
        </div>

        <div id="packDiv" class="ar-card-border" style="display:none;text-align:center;">

            <div id="appWebConfig" style="display:none;padding:5px; margin-bottom:5px;text-align:left;">
                <div class="container" style="border: 2px solid lightgray;border-radius:5px;">

                    <div class="ar-flex-content-spaced" style="margin: 0px 10px;">
                        <div class="ar-flex-item tab tab-active" onclick="openTab(event,'PackConfig')">AppSite</div>
                        <div class="ar-flex-item tab " onclick="openTab(event,'PackResourceConfig')">Resource</div>
                        <div class="ar-flex-item tab" onclick="openTab(event,'PackDataConfig')">Data</div>
                    </div>

                    <div style="padding: 5px;">

                        <div id="PackConfig" class="content-tab">
                            <div style="margin: 5px 0px;">
                                <div>Pack Name</div>
                                <div class="ar-flex-item-stretch">
                                    <input class="ar-border" style="width:100%" id="packName" name="packName" type="text" value="" placeholder="Enter Pack Name" maxlength="35">
                                </div>
                            </div>

                            <div style="margin: 5px 0px;">
                                <div>Pack Description</div>
                                <div class="ar-flex-item-stretch">
                                    <textarea class="ar-border" style="width:100%" id="packDescription" placeholder="Enter Pack Description" rows="2"></textarea>
                                </div>
                            </div>

                        </div>
                        <div id="PackResourceConfig" class="content-tab" style="display:none">

                            <div style="margin: 5px 0px;">
                                <div>Pack Resource Name</div>
                                <div class="ar-flex-item-stretch">
                                    <input class="ar-border" style="width:100%;" id="packResourceName" name="packResourceName" type="text" value="" placeholder="Enter Pack Resource Name" maxlength="35">
                                </div>
                            </div>
                            <div style="margin: 5px 0px;">
                                <div>Pack Resource Description</div>
                                <div class="ar-flex-item-stretch">
                                    <textarea class="ar-border" style="width:100%;" id="packResourceDescription" placeholder="Enter Pack Resources Description" rows="2"></textarea>
                                </div>
                            </div>
                        </div>
                        <div id="PackDataConfig" class="content-tab" style="display:none">
                            <div style="margin: 5px 0px;">
                                <div>Pack Data Name</div>
                                <div class="ar-flex-item-stretch">
                                    <input class="ar-border" style="width:100%;" id="packDataName" name="packDataName" type="text" value="" placeholder="Enter Pack Data Name" maxlength="35">
                                </div>
                            </div>
                            <div style="margin: 5px 0px;">
                                <div>Pack Data Description</div>
                                <div class="ar-flex-item-stretch">
                                    <textarea class="ar-border" style="width:100%;" id="packDataDescription" placeholder="Enter Pack Data Description" rows="2"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <label>
                <input id="packData" name="packData" type="checkbox">
                Pack Data
            </label>

            <div>
                {{
                    VIEW_AppSiteSelect(
                    "appSiteList",
                    "AppSite":"{$AppSite}",
                    "SelectedOption" : "CheckBoxCheckedOption",
                    "SelectOption" : "CheckBoxOption",
                    "EmptyText" : "No App Site Found",
                    "SkipValue": "",
                    "FilterValue": "",
                    "SelectedKey":"",
                    "DefaultChecked": "True",
                    "AppendOptionText": "",
                    "AppendOptionValue": "",
                    "DisableOptionValue": "Index",
                    "DisableOptionChecked": "true")
                }}
            </div>

            <div class="ar-notification" id="packResponseContainer" style="margin:5px; padding:10px;text-align:justify;display:none;">
                <button class="ar-delete" onclick="hideElm('packResponseContainer')"></button>
                <div id="packResponse"></div>
            </div>

            <div class="ar-flex-input-wrap" style="margin: 5px 0px;">
                <button class="button border is-primary" onclick="packAppWeb('packProgress', 'packResponse', getElm('packName').value, getElm('packDescription').value, getElm('packResourceName').value, getElm('packResourceDescription').value, getElm('packDataName').value, getElm('packDataDescription').value, getElm('packData').checked, 'appSiteList', function () {
                            refreshPushAssetList('packProgress', 1);
                        })">
                    Pack AppWeb<div id="packProgress"></div>
                </button>
            </div>

        </div>

        <div class="ar-flex-input-wrap" style="margin: 5px 0px;">
            <button class="ar-border-left" style="width:40px;height:40px;">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg>
            </button>
            <button class="ar-flex-item-stretch ar-border-top-bottom">
                Push Assets to Remote
            </button>
            <button class="ar-border-right" style="width:40px;height:40px;" onclick="toggleElm('pushShowHideIconZoomOut'); toggleElm('pushShowHideIconZoomIn'); toggleElm('pushDiv'); ">
                <svg id="pushShowHideIconZoomOut" style="display:none;" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"></path></svg>
                <svg id="pushShowHideIconZoomIn" style="display:none;" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"></path></svg>
            </button>
        </div>

        <div id="pushDiv" style="display:none;">

            <div id="pushResourceAssetList">
                {{
                    VIEW_AssetList("AssetList",
                        "htmlTable":"AssetListTable",
                        "htmlTableBody":"AssetListTableBody",
                        "htmlTableRow":"AssetListTableRow",
                        "htmlTableHeader":"PushAssetListTableHeader",
                        "htmlTableFooter":"PushAssetListTableFooter",
                        "htmlTableEmpty":"PushAssetListEmpty",
                        "pageNo": "1",
                        "itemsPerPage":"5"
                    )
                }}
            </div>

            <div class="ar-notification" id="pushResponseContainer" style="margin:5px; padding:10px;text-align:justify;display:none;">
                <button class="ar-delete" onclick="hideElm('pushResponseContainer')"></button>
                <div id="pushResponse"></div>
            </div>

            <div class="ar-flex-input-wrap" style="margin: 5px 0px;">
                <button class="button border is-primary" onclick="pushAppWeb('pushProgress', 'pushResponse', getElm('remoteDomainUrl').value, getElm('remoteDomainUserId').value, getElm('remoteDomainUserPassword').value, 'Resources', function () {
                            triggerEvent('refreshRemoteInboxListBtn', 'click');
                        })">
                    Push AppWeb Assets<div id="pushProgress"></div>
                </button>
            </div>

        </div>

        <div class="ar-flex-input-wrap" style="margin: 5px 0px;">
            <button class="ar-border-left" style="width:40px;height:40px;">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg>
            </button>
            <button class="ar-flex-item-stretch ar-border-top-bottom">
                Pull Remote to Local
            </button>
            <button class="ar-border-right" style="width:40px;height:40px;" id="pullShowHideBtn" onclick=" toggleElm('pullShowHideIconZoomOut'); toggleElm('pullShowHideIconZoomIn'); toggleElm('pullDiv'); if (isHiddenElm('pullDiv') == false) { if (getElm('remoteDomainUserId').value.length > 0) { triggerEvent('refreshRemoteInboxListBtn', 'click'); } }">
                <svg id="pullShowHideIconZoomOut" style="display:none;" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"></path></svg>
                <svg id="pullShowHideIconZoomIn" style="display:none;" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"></path></svg>
            </button>
        </div>

        <div id="pullDiv" style="display:none;">

            <div class="ar-flex-input-wrap" style="margin: 5px 0px;">

                <button class="ar-border-left" style="width:40px;height:40px;" id="refreshRemoteInboxListBtn" onclick="refreshRemoteInboxList('pullInboxProgress', 'pullInboxResponse', getElm('remoteDomainUrl').value, getElm('remoteDomainUserId').value, getElm('remoteDomainUserPassword').value, 'remoteInboxList', function () { refreshPullAssetList('pullInboxProgress', 1, null); })">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>
                    <div id="pullInboxProgress"></div>
                </button>

                <div class="ar-flex-item-stretch ar-border-top-bottom">
                    <select style="border:none;width:100%;" id="remoteInboxList" onchange="refreshPullAssetList('pullAppWebAssetProgress', 1, null);">
                        <option value="0">Remote Inbox List</option>
                    </select>
                </div>

                <button class="ar-border-right" style="width:40px;height:40px;" onclick="if (getElm('remoteInboxList').value != '0') { showElm('confirmRemoteInboxDelete'); } else { let pullElm = getElm('pullInboxResponse'); pullElm.textContent = 'Refresh and Select Remote Inbox Name'; pullElm.style.color = 'red'; showElm('pullInboxResponseContainer'); }">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                </button>
            </div>

            <div class="ar-notification" id="pullInboxResponseContainer" style="margin:5px; padding:10px;text-align:justify;display:none;">
                <button class="ar-delete" onclick="hideElm('pullInboxResponseContainer')"></button>
                <div id="pullInboxResponse"></div>
            </div>

            <div class="ar-flex-input-wrap" style="margin: 5px 0px;padding:10px;text-align:center; display:none;" id="confirmRemoteInboxDelete">
                <button class="button border is-danger" style="margin:0px 5px 0 0" onclick="deleteRemoteInbox('pullInboxProgress', 'pullInboxResponse', getElm('remoteDomainUrl').value, getElm('remoteDomainUserId').value, getElm('remoteDomainUserPassword').value, getElm('remoteInboxList').value, function () {
                                    triggerEvent('refreshRemoteInboxListBtn', 'click');
                                    hideElm('confirmRemoteInboxDelete');
                            })">
                    Confirm
                </button>
                <button class="button border is-info" style="margin:0px 0px 0 5px" onclick="hideElm('confirmRemoteInboxDelete');">Cancel</button>
            </div>

            <div id="pullRemoteAssetList">

            </div>

            <div class="ar-notification" id="pullResponseContainer" style="margin:5px; padding:10px;text-align:justify;display:none;">
                <button class="ar-delete" onclick="hideElm('pullResponseContainer')"></button>
                <div id="pullResponse"></div>
            </div>

            <div class="ar-flex-input-wrap" style="margin: 5px 0px;">
                <button class="button border is-primary" onclick="pullAppWeb('pullProgress', 'pullResponse', getElm('remoteDomainUrl').value, getElm('remoteDomainUserId').value, getElm('remoteDomainUserPassword').value, getElm('remoteInboxList').value, 'InboxRemote', function () {
                            triggerEvent('refreshLocalInboxListBtn','click');
                        })">
                    Pull AppWeb Assets <div id="pullProgress"></div>
                </button>
            </div>

        </div>

        <div class="ar-flex-input-wrap" style="margin: 5px 0px;">
            <button class="ar-border-left" style="width:40px;height:40px;">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg>
            </button>
            <button class="ar-flex-item-stretch ar-border-top-bottom">
                UnPack Local AppWebs
            </button>
            <button class="ar-border-right" style="width:40px;height:40px;" id="upPackShowHideBtn" onclick="toggleElm('unPackShowHideIconZoomOut'); toggleElm('unPackShowHideIconZoomIn'); toggleElm('unPackDiv'); if (isHiddenElm('unPackDiv') == false) { triggerEvent('refreshLocalInboxListBtn', 'click'); } ">
                <svg id="unPackShowHideIconZoomOut" style="display:none;" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"></path></svg>
                <svg id="unPackShowHideIconZoomIn" style="display:none;" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"></path></svg>
            </button>
        </div>

        <div id="unPackDiv" style="display:none;">

            <div class="ar-flex-input-wrap" style="margin: 5px 0px;">

                <button class="ar-border-left" style="width:40px;height:40px;" id="refreshLocalInboxListBtn" onclick="refreshLocalInboxList('localInboxProgress', 'localInboxResponse', 'localInboxList', function () { refreshLocalAssetList('localInboxProgress', 1, null); })">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>
                    <div id="localInboxProgress"></div>
                </button>

                <div class="ar-flex-item-stretch ar-border-top-bottom">
                    <select id="localInboxList" style="border:none;width:100%;" onchange="refreshLocalAssetList('localInboxProgress', 1, null);">
                        <option value="0">Local Inbox List</option>
                    </select>
                </div>

                <button class="ar-border-right" style="width:40px;height:40px;" onclick="if (getElm('localInboxList').value != '0') { showElm('confirmLocalInboxDelete'); } else { let unpackElm = getElm('localInboxResponse'); unpackElm.textContent = 'Refresh and Select Local Inbox'; unpackElm.style.color = 'red'; showElm('localInboxResponseContainer'); }">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                </button>
            </div>

            <div class="ar-notification" id="localInboxResponseContainer" style="margin:5px; padding:10px;text-align:justify;display:none;">
                <button class="ar-delete" onclick="hideElm('localInboxResponseContainer')"></button>
                <div id="localInboxResponse"></div>
            </div>

            <div class="ar-flex-input-wrap" style="margin: 5px 0px;padding:10px;text-align:left;display:none;" id="confirmLocalInboxDelete">

                <button class="button border is-danger" style="margin:0px 5px 0 0" onclick="deleteLocalInbox('localInboxProgress', 'localInboxResponse', getElm('localInboxList').value, function () {
                                    triggerEvent('refreshLocalInboxListBtn', 'click');
                                    hideElm('confirmLocalInboxDelete');
                                })">
                    Confirm
                </button>

                <button class="button border is-info" style="margin:0px 0px 0 5px" onclick="hideElm('confirmLocalInboxDelete');">Cancel</button>
            </div>


            <div id="unpackLocalAssetList">

            </div>

            <div class="ar-notification" id="unpackResponseContainer" style="margin:5px; padding:10px;text-align:justify;display:none;">
                <button class="ar-delete" onclick="hideElm('unpackResponseContainer')"></button>
                <div id="unpackResponse"></div>
            </div>

            <div class="ar-flex-input-wrap" style="margin: 5px 0px;">

                <button class="button border ar-flex-item-stretch is-info" style="margin:0px 5px 0 0" onclick="unPackAppWeb('unPackProgress', 'unpackResponse', getElm('localInboxList').value, 'InboxLocal', function () { })">
                    UnPack Inbox AppWeb <div id="unPackProgress"></div>
                </button>

                <button class="button border ar-flex-item-stretch is-primary" style="margin:0px 0 0 5px" onclick="copyPackAppWeb('copyPackProgress', 'unpackResponse', getElm('localInboxList').value, 'InboxLocal', function () { })">
                    Copy Inbox AppWeb <div id="copyPackProgress"></div>
                </button>

            </div>

        </div>

    </div>
</div>


