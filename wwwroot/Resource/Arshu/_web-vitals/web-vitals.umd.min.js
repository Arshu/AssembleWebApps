!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).webVitals={})}(this,function(n){"use strict";var i,u,y,s,t=function(n,t){return{name:n,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},h=function(n,t){try{if(PerformanceObserver.supportedEntryTypes.includes(n)){if("first-input"===n&&!("PerformanceEventTiming"in self))return;var i=new PerformanceObserver(function(n){return n.getEntries().map(t)});return i.observe({type:n,buffered:!0}),i}}catch(n){}},c=function(n,t){var i=function i(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(n(r),t&&(removeEventListener("visibilitychange",i,!0),removeEventListener("pagehide",i,!0)))};addEventListener("visibilitychange",i,!0);addEventListener("pagehide",i,!0)},f=function(n){addEventListener("pageshow",function(t){t.persisted&&n(t)},!0)},r=function(n,t,i){var r;return function(u){t.value>=0&&(u||i)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,n(t)))}},e=-1,p=function(){return"hidden"===document.visibilityState?0:1/0},w=function(){c(function(n){var t=n.timeStamp;e=t},!0)},l=function(){return e<0&&(e=p(),w(),f(function(){setTimeout(function(){e=p();w()},0)})),{get firstHiddenTime(){return e}}},b=function(n,i){var e,a=l(),u=t("FCP"),c=function(n){"first-contentful-paint"===n.name&&(s&&s.disconnect(),n.startTime<a.firstHiddenTime&&(u.value=n.startTime,u.entries.push(n),e(!0)))},o=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],s=o?null:h("paint",c);(o||s)&&(e=r(n,u,i),o&&c(o),f(function(f){u=t("FCP");e=r(n,u,i);requestAnimationFrame(function(){requestAnimationFrame(function(){u.value=performance.now()-f.timeStamp;e(!0)})})}))},k=!1,a=-1,o={passive:!0,capture:!0},tt=new Date,d=function(n,t){i||(i=t,u=n,y=new Date,nt(removeEventListener),g())},g=function(){if(u>=0&&u<y-tt){var n={entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+u};s.forEach(function(t){t(n)});s=[]}},it=function(n){if(n.cancelable){var t=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;"pointerdown"==n.type?function(n,t){var i=function(){d(n,t);u()},r=function(){u()},u=function(){removeEventListener("pointerup",i,o);removeEventListener("pointercancel",r,o)};addEventListener("pointerup",i,o);addEventListener("pointercancel",r,o)}(t,n):d(t,n)}},nt=function(n){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return n(t,it,o)})},v={};n.getCLS=function(n,i){k||(b(function(n){a=n.value}),k=!0);var s,l=function(t){a>-1&&n(t)},u=t("CLS",0),e=0,o=[],v=function(n){if(!n.hadRecentInput){var t=o[0],i=o[o.length-1];e&&n.startTime-i.startTime<1e3&&n.startTime-t.startTime<5e3?(e+=n.value,o.push(n)):(e=n.value,o=[n]);e>u.value&&(u.value=e,u.entries=o,s())}},y=h("layout-shift",v);y&&(s=r(l,u,i),c(function(){y.takeRecords().map(v);s(!0)}),f(function(){e=0;a=-1;u=t("CLS",0);s=r(l,u,i)}))};n.getFCP=b;n.getFID=function(n,e){var v,p=l(),o=t("FID"),y=function(n){n.startTime<p.firstHiddenTime&&(o.value=n.processingStart-n.startTime,o.entries.push(n),v(!0))},a=h("first-input",y);v=r(n,o,e);a&&c(function(){a.takeRecords().map(y);a.disconnect()},!0);a&&f(function(){var f;o=t("FID");v=r(n,o,e);s=[];u=-1;i=null;nt(addEventListener);f=y;s.push(f);g()})};n.getLCP=function(n,i){var e,y=l(),u=t("LCP"),a=function(n){var t=n.startTime;t<y.firstHiddenTime&&(u.value=t,u.entries.push(n),e())},o=h("largest-contentful-paint",a),s;o&&(e=r(n,u,i),s=function(){v[u.id]||(o.takeRecords().map(a),o.disconnect(),v[u.id]=!0,e(!0))},["keydown","click"].forEach(function(n){addEventListener(n,s,{once:!0,capture:!0})}),c(s,!0),f(function(f){u=t("LCP");e=r(n,u,i);requestAnimationFrame(function(){requestAnimationFrame(function(){u.value=performance.now()-f.timeStamp;v[u.id]=!0;e(!0)})})}))};n.getTTFB=function(n){var r,i=t("TTFB");r=function(){try{var t=performance.getEntriesByType("navigation")[0]||function(){var t=performance.timing,i={entryType:"navigation",startTime:0};for(var n in t)"navigationStart"!==n&&"toJSON"!==n&&(i[n]=Math.max(t[n]-t.navigationStart,0));return i}();if(i.value=i.delta=t.responseStart,i.value<0||i.value>performance.now())return;i.entries=[t];n(i)}catch(n){}};"complete"===document.readyState?setTimeout(r,0):addEventListener("load",function(){return setTimeout(r,0)})};Object.defineProperty(n,"__esModule",{value:!0})});